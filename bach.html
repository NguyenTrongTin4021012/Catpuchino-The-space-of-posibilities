<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.11/lib/p5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.11/lib/addons/p5.sound.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://use.typekit.net/bhc4gtd.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
    <meta charset="utf-8" />
    <title>Tin - Turbulence on Catpuchino: The space of posibilities</title>

  </head>
  <body>
      <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="index.html">
        <img src="icon.png" alt="Logo" class="brand-logo" />
      </a>
      <button id="nav-toggle" aria-label="Toggle navigation">☰</button>
      <nav id="site-nav" class="site-nav">
        <a href="index.html#interactives">Interactives</a>
        <a href="#" onclick="openInfoPopup(event)">Information</a>
        <a href="index.html#about">About</a>
      </nav>
    </div>
  </header>
    <main>
      <!-- Sound controls (require user gesture to start AudioContext) -->
      <div class="sound-controls">
        <button id="sound-toggle" class="sound-button" onclick="window.toggleSound && window.toggleSound()">Sound: Off</button>
      </div>

      <!-- Popup (same style as index.html) -->
      <div id="info-popup" class="info-popup">
        <div class="popup-content">
          <button class="close-popup" onclick="closeInfoPopup()">×</button>
        </div>
      </div>

      <!-- Overlay for popup -->
      <div id="popup-overlay" class="popup-overlay" onclick="closeInfoPopup()"></div>

      <!-- Optional overlay content (if needed on Tin page) -->
      <section id="overlay-content" class="overlay-section" style="display:none"></section>
    </main>
    <script>
      // Fade navigation for .html links (same as index.html)
      (function() {
        const body = document.body;
        window.addEventListener('DOMContentLoaded', () => {
          requestAnimationFrame(() => body.classList.add('page-fade-in'));
        });

        function navigateWithFade(url) {
          body.classList.remove('page-fade-in');
          body.style.opacity = '0';
          setTimeout(() => { window.location.href = url; }, 200);
        }

        const links = document.querySelectorAll('a[href$=".html"]');
        links.forEach(link => {
          link.addEventListener('click', (e) => {
            const href = link.getAttribute('href');
            if (!href || href.startsWith('#')) return;
            e.preventDefault();
            navigateWithFade(href);
          });
        });

        window.navigateWithFade = navigateWithFade;
      })();

      // Popup controls (same behavior as index.html)
      function openInfoPopup(event) {
        if (event) event.preventDefault();
        const popup = document.getElementById('info-popup');
        const overlay = document.getElementById('popup-overlay');
        if (popup) popup.classList.add('visible');
        if (overlay) overlay.classList.add('visible');
      }

      function closeInfoPopup() {
        const popup = document.getElementById('info-popup');
        const overlay = document.getElementById('popup-overlay');
        if (popup) popup.classList.remove('visible');
        if (overlay) overlay.classList.remove('visible');
      }
    </script>
    <script src="bachsketch.js"></script>
  </body>
</html>
